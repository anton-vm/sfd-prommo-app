{"version":3,"sources":["Components/PromoCard/PromoCard.module.css","Components/ListOfProducts/Product.module.css","Components/PromoCard/Calculation/Calculation.module.css","Components/PromoCard/CommentsCard/CommentsCard.module.css","Components/Sales/salesTable.module.css","img/Logo/sfd.png","Components/ListOfProducts/Product.js","Components/CreateNewArr/NewArrCreate.js","Components/PromoCard/PromoList.js","Components/PromoCard/CommentsCard/CommentsCard.js","Components/PromoCard/CheckBlock.js","Components/PromoCard/Calculation/CalculationItem.js","Components/PromoCard/Calculation/Calculation.js","Components/PromoCard/Warehouse/Warehouse.js","Components/PromoCard/AboutClient/AboutClient.js","Components/PromoCard/PromoCard.js","Components/NewProductForm/NewProductfFillForm.js","Components/NewProductForm/NewProductFilled.js","Components/NewProductForm/NewProductItemForm.js","Components/NewProductForm/NewProductForm.js","Components/Sales/SalesTableItem.js","Components/Sales/SalesTable.js","Components/Sales/Sales.js","Components/ListOfProducts/TableOfProducts.js","Components/ListOfProducts/ListOfProducts.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Product","el","addPromo","toggleCart","isCartOpen","daysToStart","Math","ceil","promoStart","Date","now","className","onClick","id","signature","okHeadMarketing","okHeadSales","okAnalitic","okSalesConfirm","okSalesAccept","okBrandConfirm","okFinance","okBrandManager","style","item","moment","format","promoEnd","itemChain","chain","tradeMark","itemStatus","datePromoStart","promosData","map","promos","push","NewArrCreate","base","result","xxx","filteredArr","filter","obj","indexOf","promoDetales","promoObj","dateOfCreating","Number","loadDate","periodOfPromo","category","plan","authorisation","discountPercent","typeOfActivity","descriptionOfActivity","comments","detales","okInitiator","toPush","sku","freshness","termsOfCompensation","statisticSells","quantityForCompensation","priceOrdinar","pricePromo","costCompensation","createNewArr","a","includes","sort","uniq","PromoList","list","listItemSku","listItem","CommentsCard","inputCommentText","inputAuthor","commentSubmit","toggleComment","type","placeholder","name","author","onChange","infoText","CheckBlock","okArea","receiveOk","console","log","newOkArea","useState","acceptArea","setAcceptArea","openModal","setOpenModal","clickTogether","e","target","checked","inputHandler","chekList","checkList__checkbox","disabled","CalculationItem","discount","authorisationOfSku","takePromoData","variables","isTakePromoData","calculation","time","cost","chainVariables","priceWithDiscount","profitability","ammountOfSells","costOfSells","costOfVariables","margin","amountOfDiscount","formCalculation","setFormCalculation","price","priceProduct","shortName","supermarketPrice","toFixed","send","setSend","useEffect","calc__point","value","input","Calculation","cardPromo","toggleCalc","calculationStructure","amounOfDiscount","amountOfMargin","promoItems","totalCost","resultOfPromo","promoProducts","setPromoProducts","setCalculation","promoState","length","totalDiscount","dicsountTotal","reduce","acc","dicsountMargin","accum","inputHandlerNumber","alert","greenTable","head","key","Warehouse","toggleWarehouse","codesInPromo","barCode","arr","prod","qqq","inWarehouse","showWarehouse","index","BBDate","BBPercent","quantity","AboutClient","toggleClient","PromoCard","calcOpen","setCalcOpen","commentOpen","setCommnetOpen","commentAuthor","setComentAuthor","commentText","setComentText","commentsArr","setCommentsArr","newAreaWithOk","setNewAreaWithOk","warehouseOpen","setWarehouseOpen","aboutClientOpen","setAboutClientOpen","promo","card","calcBtn","calculation__on","comment","url","JSON","stringify","b","Object","keys","axios","put","then","res","data","catch","error","content","left","period","bigInfo","bigInfoChain","status","right","tocenter","info","dates","infoData","listSKU","listSku","preventDefault","text","ok","NewProductfFillForm","addDetales","filledOneProduct","filledForm","setFilledForm","productPrice","NewProductFilled","NewProductItemForm","arrOfProducts","filledItem","setFilledItem","NewProductForm","closeCardNewPromo","mainComment","marketingBudjet","changesInPromo","detalesArr","setDetalesArr","formReadyToSend","setFormReadyToSend","inputHandlerDate","inputHandlerText","post","resp","clients","for","descriptions","addDetalesToBigState","SalesTableItem","product","code","price1","priceFin","percentOfDiscount","SalesTable","filterProduct","warehouse","tableSales","Sales","toggleSales","TableOfProducts","cardsArr","sortType","sortData","sortFunction","data-sort","bodytable","ListOfProducts","setCardArr","setIsCartOpen","setCardPromo","setSort","openNewPromo","setOpenNewPromo","openSales","setOpenSales","get","fetchedResults","src","require","find","dataset","month","test","App","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.b9d35ce4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"PromoCard_card__3ebAh\",\"close\":\"PromoCard_close__1LnwW\",\"test\":\"PromoCard_test__2wTl6\",\"content\":\"PromoCard_content__1ggfA\",\"left\":\"PromoCard_left__PCILh\",\"tradeMark\":\"PromoCard_tradeMark__RKRIh\",\"bigInfo\":\"PromoCard_bigInfo__34FEF\",\"bigInfoChain\":\"PromoCard_bigInfoChain__3tL7e\",\"period\":\"PromoCard_period__bG2AO\",\"right\":\"PromoCard_right__2hXfE\",\"tocenter\":\"PromoCard_tocenter__3n2hm\",\"info\":\"PromoCard_info__2SdXk\",\"infoData\":\"PromoCard_infoData__1c61V\",\"listItem\":\"PromoCard_listItem__1jjNZ\",\"listItemSku\":\"PromoCard_listItemSku__1iaft\",\"dates\":\"PromoCard_dates__1EdIA\",\"list\":\"PromoCard_list__2SsMr\",\"status\":\"PromoCard_status__3Bu2i\",\"listSKU\":\"PromoCard_listSKU__3o-Zh\",\"btnCalculation\":\"PromoCard_btnCalculation__QpNKK\",\"calculation\":\"PromoCard_calculation__1E6re\",\"calculation__on\":\"PromoCard_calculation__on__5FeBs\",\"chekList\":\"PromoCard_chekList__1ReN9\",\"checkList__form\":\"PromoCard_checkList__form__3RcPS\",\"checkList__checkbox\":\"PromoCard_checkList__checkbox__2Se0Y\",\"checkList__label\":\"PromoCard_checkList__label__3AuK6\",\"input\":\"PromoCard_input__1x-_v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"line\":\"Product_line__1YuWF\",\"head\":\"Product_head__1ZZh1\",\"bodytable\":\"Product_bodytable__NnmsM\",\"item\":\"Product_item__1JloT\",\"itemChain\":\"Product_itemChain__V0Qbj\",\"itemStatus\":\"Product_itemStatus__3wWXs\",\"itemCheck\":\"Product_itemCheck__1Cus6\",\"inputCheck\":\"Product_inputCheck__KFaev\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"greenTable\":\"Calculation_greenTable__2tQ0g\",\"links\":\"Calculation_links__2lM2M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"comments\":\"CommentsCard_comments__13kMf\",\"author\":\"CommentsCard_author__2ueVb\",\"infoText\":\"CommentsCard_infoText__3Be7t\",\"commentBlock\":\"CommentsCard_commentBlock__3nQn6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tableSales\":\"salesTable_tableSales__1GzNk\",\"links\":\"salesTable_links__AJ2Pg\"};","module.exports = __webpack_public_path__ + \"static/media/sfd.7dbcb205.png\";","import React, { useState, useEffect } from \"react\";\r\nimport moment from \"moment\";\r\nimport style from \"./Product.module.css\";\r\n\r\nconst Product = ({ el, addPromo, toggleCart, isCartOpen }) => {\r\n  const add = () => {\r\n    addPromo(el.id);\r\n    if (!isCartOpen) {\r\n      toggleCart();\r\n    }\r\n  };\r\n\r\n  // okInitiator: false,\r\n  // okBrandManager: false,\r\n  // okFinance: false,\r\n  // okBrandConfirm: false,\r\n  // okSalesAccept: false,\r\n  // okSalesConfirm: false,\r\n  // okAnalitic: false,\r\n  // okHeadSales: false,\r\n  // okHeadMarketing: false,\r\n\r\n  \r\n  const status =() => {\r\n    if (el.signature.okHeadMarketing) {return \"Акція погоджена\"};\r\n    if (el.signature.okHeadSales) {return \"Акція погоджена\"};\r\n    if (el.signature.okAnalitic) {return \"Продукція є для акції\"};\r\n    if (el.signature.okSalesConfirm) {return \"Мережа погодила\"};\r\n    if (el.signature.okSalesAccept) {return \"Узгоджується із мережею\"};\r\n    if (el.signature.okBrandConfirm) {return \"Погоджено для запуску в мережі\"};\r\n    if (el.signature.okFinance) {return \"Пораховано\"};\r\n    if (el.signature.okBrandManager) {return \"Відправлена на прорахунок\"};\r\n    if (!el.signature.okBrandManager) {return \"Акція створена\"};\r\n  }\r\n\r\n  const statusColor =() => {\r\n    if (el.signature.okHeadMarketing) {return \"product-line__darkGreen\"};\r\n    if (el.signature.okHeadSales) {return \"product-line__forestGreen\"};\r\n    if (el.signature.okAnalitic) {return \"product-line__springGreen\"};\r\n    if (el.signature.okSalesConfirm) {return \"product-line__paleGreen\"};\r\n    if (el.signature.okSalesAccept) {return \"product-line__moccasin\"};\r\n    if (el.signature.okBrandConfirm) {return \"product-line__indigo\"};\r\n    if (el.signature.okFinance) {return \"product-line__thistle\"};\r\n    if (el.signature.okBrandManager) {return \"product-line__orchid\"};\r\n    if (!el.signature.okBrandManager) {return \"\"};\r\n  }\r\n\r\n  const daysToStart = Math.ceil((el.promoStart-Date.now())/86400000)\r\n\r\nconst alarmLight =() => {\r\n  if (daysToStart<60) {\r\n    return \"blink\"\r\n  }\r\n}\r\n\r\n  \r\n  return (\r\n    <tr className={`product-line ${daysToStart<60 && \"blink\"}`} onClick={add} id=\"blick\">\r\n      {/* <td className={style.item}>{moment(el.month).format(\"MMM YY\")}</td> */}\r\n      <td className={`product-item ${statusColor()}`}>{daysToStart} днів</td>\r\n      <td className={style.item}>{moment(el.promoStart).format(\"ll\")}</td>\r\n      <td className={style.item}>{moment(el.promoEnd).format(\"ll\")}</td>\r\n      <td className={style.itemChain}>{el.chain}</td>\r\n      <td className={style.item}>{el.tradeMark}</td>\r\n      <td className={style.itemStatus}>{status()}</td>\r\n      {/* <td className={style.item}>\r\n        {\r\n          // <button className={style.button} onClick={add}>\r\n          //   Більше\r\n          // </button>\r\n        }\r\n      </td> */}\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","\r\nimport promosData from \"../db/promotions.json\";\r\nimport moment from \"moment\";\r\nimport axios from 'axios';\r\n\r\n\r\nconst url = `https://project-1-test-92ce7.firebaseio.com/promo.json`\r\n    const datePromoStart = [];\r\n\r\n    promosData.map((promos) => datePromoStart.push(promos.promoStart));\r\n  \r\n  \r\n    function uniq(a) {\r\n      let result = [];\r\n      for (let el of datePromoStart) {\r\n        if (!result.includes(el)) {\r\n          result.push(el);\r\n        }\r\n      }\r\n      return result.sort();\r\n    }\r\n  \r\n    const XZ = uniq(datePromoStart);\r\n  \r\n    function createNewArr(base) {\r\n      let result = [];\r\n  \r\n      for (let xxx of base) {\r\n        let filteredArr = promosData.filter((obj) => obj.promoStart === xxx);\r\n  \r\n        if (filteredArr.indexOf(filteredArr) === -1) {\r\n          const promos = filteredArr[0];\r\n  \r\n          const promoDetales = [];\r\n          const promoObj = {\r\n            dateOfCreating: Date.now(),\r\n\r\n            promoStart: Number( moment(promos.promoStart).format(\"x\")),\r\n            promoEnd: Number(moment(promos.promoEnd).format(\"x\")),\r\n            loadDate: Number(moment(promos.loadDate).format(\"x\")),\r\n            periodOfPromo: Number(promos.periodOfPromo),\r\n            category: promos.category,\r\n            plan: promos.plan,\r\n            chain: promos.chain,\r\n            tradeMark: promos.tradeMark,\r\n            authorisation: Number(promos.authorisation),\r\n            discountPercent: Number(promos.discountPercent),\r\n            typeOfActivity: promos.typeOfActivity,\r\n            descriptionOfActivity: promos.comments,\r\n            detales: promoDetales,\r\n            signature: {\r\n              okInitiator: false,\r\n              okBrandManager: false,\r\n              okFinance: false,\r\n              okBrandConfirm: false,\r\n              okSalesAccept: false,\r\n              okSalesConfirm: false,\r\n              okAnalitic: false,\r\n              okHeadSales: false,\r\n              okHeadMarketing: false,\r\n            },\r\n          };\r\n  \r\n          for (let promos of filteredArr) {\r\n            const toPush = {\r\n              sku: promos.sku,\r\n              freshness: promos.freshness,\r\n              termsOfCompensation: promos.termsOfCompensation,\r\n              statisticSells: Number(promos.statisticSells),\r\n              quantityForCompensation: Number(promos.quantityForCompensation),\r\n              priceOrdinar: Number(promos.priceOrdinar),\r\n              pricePromo: Number(promos.pricePromo),\r\n              costCompensation: promos.costCompensation,\r\n            };\r\n            promoDetales.push(toPush);\r\n            \r\n          }\r\n\r\n          result.push(promoObj);\r\n          // axios.post(url, promoObj)\r\n          // .then(res => console.log(res.data))\r\n          // .catch(error => console.log(error))\r\n        }\r\n      }\r\n  \r\n      \r\n      return (result);\r\n      \r\n    }\r\n  \r\n  const NewArrCreate = createNewArr(XZ);    \r\n\r\n\r\n\r\nexport default NewArrCreate;","import React from \"react\";\r\nimport style from \"./PromoCard.module.css\";\r\n\r\nconst PromoList = ({el}) => {\r\n\r\n  return (\r\n    <div className={style.list}>\r\n      <span className={style.listItemSku}>{el.sku}</span>\r\n      <span className={style.listItem}>{el.quantityForCompensation} шт</span>\r\n      {/* <span className={style.listItem}>{el.statisticSells}</span> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PromoList;\r\n ","import React from 'react';\r\nimport style from './CommentsCard.module.css'\r\n\r\n\r\nconst CommentsCard = ({inputCommentText, inputAuthor, commentSubmit, toggleComment}) => {\r\n    return (\r\n        <div>\r\n            <form className=\"form-comment\">\r\n            <input type=\"text\" placeholder=\"Author\" name=\"author\" className={style.author} onChange={inputAuthor}></input>\r\n            <input type=\"text\" placeholder=\"Input text\" name='comment' className={style.infoText} onChange={inputCommentText}></input>\r\n            <div className=\"elements-area\">\r\n            <button onClick={toggleComment}>Закрити</button>\r\n            <button  onClick={commentSubmit}>Відправити</button>\r\n            </div>\r\n            </form>          \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CommentsCard;","import React, { useState, useEffect } from 'react';\r\nimport style from \"./PromoCard.module.css\";\r\n\r\n\r\nconst CheckBlock = ({okArea, id, receiveOk}) => {\r\n\r\n  console.log(okArea);\r\n\r\n  const newOkArea = {\r\n  okInitiator: false,\r\n  okBrandManager: false,\r\n  okFinance: false,\r\n  okBrandConfirm: false,\r\n  okSalesAccept: false,\r\n  okSalesConfirm: false,\r\n  okAnalitic: false,\r\n  okHeadSales: false,\r\n  okHeadMarketing: false,\r\n  }\r\n\r\n  const changeOkArea = () => {\r\n    if (!okArea) {\r\n      return newOkArea;\r\n    } return okArea\r\n  }\r\n\r\n  const [acceptArea, setAcceptArea] = useState(changeOkArea())\r\n  const [openModal, setOpenModal] = useState(false)\r\n\r\n  const url = `https://project-1-test-92ce7.firebaseio.com/promo/${id}.json`;\r\n\r\n\r\n\r\n  // useEffect(() => {\r\n  //   changeOkArea()\r\n  // },[])\r\n\r\n  const inputHandler = (e) => {\r\n  const name = e.target.name;\r\n  if (e.target.checked) {\r\n  setAcceptArea({...acceptArea, [name]: true})\r\n  } else {setAcceptArea({...acceptArea, [name]: false})}\r\n  }\r\n\r\n  const clickTogether =(e) =>{\r\n    inputHandler(e);\r\n    setOpenModal(true)\r\n  }\r\n\r\n  const clickModal =() => {\r\n    console.log(acceptArea);\r\n    receiveOk(acceptArea)\r\n    setOpenModal(false)\r\n  }\r\n\r\n  const closeModalButtons = () => {\r\n    setOpenModal(false)\r\n  }\r\n\r\n    return (\r\n        <div className={style.chekList}>\r\n        <form className=\"elements-area\">\r\n        <div className=\"column-check\">\r\n        <input type=\"checkbox\" className={style.checkList__checkbox} name=\"okBrandManager\" onChange={clickTogether} checked={acceptArea.okBrandManager===true && \"checked\"}></input>\r\n        <label >1 - Погоджено Бренд Менеджером</label>\r\n        </div>\r\n        <div className=\"column-check\">\r\n        <input type=\"checkbox\" className={style.checkList__checkbox} name=\"okBrandConfirm\" onChange={clickTogether} checked={acceptArea.okBrandConfirm===true && \"checked\"} disabled={!acceptArea.okBrandManager && \"disabled\"}></input>\r\n        <label >2 -    Бренд Менеджер Погодив до запуску</label>\r\n        </div>\r\n        <div  className=\"column-check\">\r\n        <input type=\"checkbox\" className={style.checkList__checkbox} name=\"okSalesAccept\" onChange={clickTogether} checked={acceptArea.okSalesAccept===true && \"checked\"} disabled={!acceptArea.okBrandConfirm && \"disabled\"}></input>\r\n        <label  >3 - Менеджер ДУКО Прийняв у роботу</label>\r\n        </div>\r\n        <div  className=\"column-check\">\r\n        <input type=\"checkbox\" className={style.checkList__checkbox} name=\"okSalesConfirm\" onChange={clickTogether} checked={acceptArea.okSalesConfirm===true && \"checked\"} disabled={!acceptArea.okSalesAccept && \"disabled\"}></input>\r\n        <label>4 - Погоджено з мережею</label>\r\n        </div>\r\n        <div  className=\"column-check\">\r\n        <input type=\"checkbox\" className={style.checkList__checkbox} name=\"okAnalitic\" onChange={clickTogether} checked={acceptArea.okAnalitic===true && \"checked\"} disabled={!acceptArea.okSalesConfirm && \"disabled\"}></input>\r\n        <label>5 - Підтверджено аналітиком</label>\r\n        </div>\r\n        <div  className=\"column-check\">\r\n        <input type=\"checkbox\" className={style.checkList__checkbox} name=\"okHeadSales\" onChange={clickTogether} checked={acceptArea.okHeadSales===true && \"checked\"} disabled={!acceptArea.okAnalitic && \"disabled\"}></input>\r\n        <label >6 - Погоджено керівником відділу ДУКО</label>\r\n        </div>\r\n        <div  className=\"column-check\">\r\n        <input type=\"checkbox\" className={style.checkList__checkbox} name=\"okHeadMarketing\" onChange={clickTogether} checked={acceptArea.okHeadMarketing===true && \"checked\"} disabled={!acceptArea.okAnalitic && \"disabled\"}></input>\r\n        <label >7 - Погоджено керівником відділу маркетингу</label>\r\n        </div>\r\n        </form>\r\n\r\n        {openModal && \r\n              <div className=\"overlay-modal\"> \r\n              <div className=\"card\">\r\n                <button onClick={clickModal}>Підтвердити</button>\r\n                <button onClick={closeModalButtons}>Відмовити</button>\r\n                   \r\n            </div>\r\n            </div>\r\n                \r\n                }\r\n\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default CheckBlock;","import React, { useState, useEffect } from \"react\";\r\nimport style from \"../PromoCard.module.css\";\r\nimport priceProduct from \"../../db/priceAndProduct.json\"\r\n\r\nconst CalculationItem = ({ el, discount, authorisationOfSku, takePromoData, isTakePromoData, variables }) => {\r\n  const calculation = {\r\n    sku: el.sku,\r\n    priceOrdinar: 0,\r\n    discount: discount,\r\n    time: Date.now(),\r\n    cost: 0,\r\n    chainVariables: 0,\r\n    authorisationOfSku: authorisationOfSku,\r\n    quantityForCompensation: el.quantityForCompensation,\r\n    priceWithDiscount: 0,\r\n    profitability: 0,\r\n    ammountOfSells: 0,\r\n    costOfSells: 0,\r\n    costOfVariables: 0,\r\n    margin: 0,\r\n    amountOfDiscount: 0,\r\n  };\r\n\r\n//   takePromoData(formCalculation)\r\n\r\n  const [formCalculation, setFormCalculation] = useState(calculation);\r\n  const [itemConfirmed, setItemConfirmed] = useState(false)\r\n\r\n  // const [form, setForm] = useState(formCalculation)\r\n\r\n//   const price1 = priceProduct.map(el => { if (el.shortName===formCalculation.sku) { return Number(el.supermarketPrice)}})\r\n\r\n//  const price = price1.map(el => el && el)\r\n\r\n// const price1 = priceProduct.find(el.shortName === formCalculation.sku)\r\n\r\nconst price1 = priceProduct.filter(el => el.shortName === formCalculation.sku)\r\nconst price = price1[0].supermarketPrice\r\n\r\n  const priceWithDiscount = (\r\n    price -\r\n    (price * discount) / 100\r\n  ).toFixed(2);\r\n  const profitability = (\r\n    ((Number(price) - formCalculation.cost) /\r\n      Number(price)) *\r\n    100\r\n  ).toFixed(0);\r\n  const ammountOfSells = (el.quantityForCompensation * price).toFixed(0);\r\n  const costOfSells = (el.quantityForCompensation * formCalculation.cost).toFixed(0);\r\n  const costOfVariables = (\r\n    (Number(ammountOfSells) * Number(variables)) /\r\n    100\r\n  ).toFixed(0);\r\n  let margin = (\r\n    Number(ammountOfSells) -\r\n    costOfSells -\r\n    costOfVariables\r\n  ).toFixed(0);\r\n  const amountOfDiscount =\r\n    (el.quantityForCompensation * el.priceOrdinar * (discount / 100)).toFixed(0);\r\n\r\n\r\n\r\n  const inputHandlerNumber = (e) => {\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n    let margin1 = (\r\n      Number(ammountOfSells) -\r\n      costOfSells -\r\n      costOfVariables\r\n    ).toFixed(0);\r\n    \r\n    setFormCalculation({\r\n      ...formCalculation,\r\n      [name]: Number(value),\r\n      ammountOfSells: ammountOfSells,\r\n      priceOrdinar: price,\r\n      priceWithDiscount: Number(priceWithDiscount),\r\n      profitability: Number(profitability),\r\n      // ammountOfSells: Number(ammountOfSells),\r\n      costOfSells: Number(el.quantityForCompensation * formCalculation.cost),\r\n      costOfVariables: Number(costOfVariables),\r\n      // margin: Number(margin),\r\n      amountOfDiscount: Number(amountOfDiscount),\r\n    });\r\n  };\r\n\r\n  const [send, setSend] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setFormCalculation({\r\n      ...formCalculation,\r\n      // priceOrdinar: price,\r\n      // priceWithDiscount: Number(priceWithDiscount),\r\n      profitability: (\r\n        ((Number(price) - formCalculation.cost) /\r\n          Number(price)) *\r\n        100\r\n      ).toFixed(0),\r\n      // ammountOfSells: Number(ammountOfSells),\r\n      costOfSells: (Number(el.quantityForCompensation * formCalculation.cost)).toFixed(0),\r\n      // costOfVariables: Number(costOfVariables),\r\n      margin: (\r\n        Number(ammountOfSells) -\r\n        costOfSells -\r\n        costOfVariables\r\n      ).toFixed(0),\r\n      // amountOfDiscount: Number(amountOfDiscount),\r\n    });\r\n  }, [formCalculation.cost, formCalculation.costOfSells])\r\n\r\n  useEffect(() => {\r\n    if (send) {\r\n\r\n    takePromoData(formCalculation)}\r\n  }, [send])\r\n\r\n\r\n\r\n\r\n  const inputSend = (e) => {\r\n    if (e.target.checked) {\r\n      setSend(true)\r\n    }\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <tr>\r\n      <td className={style.calc__point}>{el.sku}</td>\r\n      <td className={style.calc__point}>{price}</td>\r\n      {/* <td className={style.calc__point}>{discount} %</td> */}\r\n      <td className={style.calc__point}>{priceWithDiscount}</td>\r\n      <td className={style.calc__point}>\r\n        <input\r\n          name=\"cost\"\r\n          onChange={inputHandlerNumber}\r\n          className={style.input}\r\n        />\r\n      </td>\r\n      <td className={style.calc__point}>\r\n        {formCalculation.cost === null ? \"внесіть собівартість\" : profitability}\r\n        %\r\n      </td>\r\n      <td className={style.calc__point}>{el.quantityForCompensation}</td>\r\n      <td className={style.calc__point}>{ammountOfSells}</td>\r\n      <td className={style.calc__point}>\r\n        {formCalculation.cost === null ? \"внесіть собівартість\" : costOfSells}\r\n      </td>\r\n      {/* <td className={style.calc__point}>\r\n        <input\r\n          name=\"chainVariables\"\r\n          onChange={inputHandlerNumber}\r\n          // onBlur={inputSend}\r\n          className={style.input}\r\n        />\r\n      </td> */}\r\n      <td className={style.calc__point}>{costOfVariables}</td>\r\n      <td className={style.calc__point}>{margin}</td>\r\n      {/* <td className={style.calc__point}>{authorisationOfSku}</td> */}\r\n      <td className={style.calc__point}>{amountOfDiscount}</td>\r\n      <td className={style.calc__point}><input type=\"checkbox\" onChange={inputSend}/></td>\r\n    </tr>\r\n\r\n  );\r\n};\r\n\r\nexport default CalculationItem;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport CalculationItem from \"./CalculationItem\";\r\nimport style from \"./Calculation.module.css\";\r\n\r\n\r\n\r\nconst Calculation = ({ cardPromo, discount, toggleCalc }) => {\r\n  // const authorisationOfSku = cardPromo.authorisation / cardPromo.detales.length;\r\n\r\n  const calculationStructure = {\r\n    chainVariables: 0,\r\n    authorisationOfSku: cardPromo.authorisation,\r\n    time: Date.now(),\r\n    discount: discount,\r\n    amounOfDiscount: 0,\r\n    amountOfMargin: 0,\r\n    promoItems: [],\r\n    totalCost: 0,\r\n    resultOfPromo: 0\r\n  }\r\n\r\n  const [promoProducts, setPromoProducts] = useState([])\r\n  const [isTakePromoData, setIsTakePromoData] = useState(false)\r\n  const [calculation, setCalculation] = useState(calculationStructure)\r\n\r\n\r\n  const takePromoData = (promoState) => {\r\n    setPromoProducts([...promoProducts,promoState])\r\n  }\r\n\r\n\r\n\r\nconst startCalculate = () => {\r\n  setIsTakePromoData(true)\r\n}\r\n\r\nuseEffect(() => {\r\n  if (promoProducts.length>0) {\r\n\r\n  totalDiscount()\r\n }\r\n\r\n}, [promoProducts])\r\n\r\nconst totalDiscount =() => {\r\n const discount = promoProducts.map(el => el.amountOfDiscount)\r\n const dicsountTotal = discount.reduce((acc, el) => acc + el)\r\n const margin = promoProducts.map(el => Number(el.margin))\r\n const dicsountMargin = margin.reduce((accum, el) => accum + Number(el))\r\n setCalculation({...calculation, amounOfDiscount: dicsountTotal, amountOfMargin: dicsountMargin})\r\n}\r\n\r\nuseEffect(() => {\r\n  console.log(calculation.authorisationOfSku)\r\n  const totalCost = calculation.amounOfDiscount + calculation.authorisationOfSku;\r\n  const resultOfPromo = calculation.amountOfMargin - totalCost\r\n  setCalculation({...calculation, totalCost: totalCost, resultOfPromo: resultOfPromo})\r\n}, [calculation.amounOfDiscount, calculation.authorisationOfSku])\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst inputHandlerNumber = (e) => {\r\n  const name = e.target.name;\r\n  const value = Number(e.target.value);\r\n  if (!value) {\r\n    alert(\"Введіть дробове число через крапку\");\r\n    e.target.value = null\r\n    return;\r\n  }\r\n  setCalculation({ ...calculation, [name]: value });\r\n};\r\n\r\n\r\n\r\n  return (\r\n <div className=\"overlay-modal\"> \r\n <div className=\"card-table\">\r\n <div className=\"close_icon\" onClick={toggleCalc}></div>\r\n    <fieldset>\r\n      <legend>Розрахунок вартості акції</legend>\r\n    <div className=\"inner-element\">\r\n    {/* <div className=\"overlay-modal\">\r\n      <div className=\"card\"> */}\r\n      {/* <div className=\"close_icon\" onClick={toggleCalc}></div> */}\r\n      <div className=\"elements-area\">\r\n      <div className=\"item\">Перемінні: <input type=\"text\" name=\"chainVariables\"  onChange={inputHandlerNumber}/></div>\r\n      <div className=\"item\">Авторизація: <input type=\"text\" name=\"authorisationOfSku\" placeholder={calculation.authorisationOfSku} onChange={inputHandlerNumber}/></div>\r\n      </div>\r\n\r\n    <table className={style.greenTable}>\r\n      <thead className={style.head}>\r\n      {/* <button onClick={startCalculate}>TakeData</button> */}\r\n        <tr className=\"table-header\">\r\n          <td className={style.calc__point}>Назва</td>\r\n          <td className={style.calc__point}>Ціна звична</td>\r\n          {/* <td className={style.calc__point}>скидка</td> */}\r\n          <td className={style.calc__point}>Ціна зі знижкою</td>\r\n          <td className={style.calc__point}>Собівартість</td>\r\n          <td className={style.calc__point}>Рентабе льніст</td>\r\n          <td className={style.calc__point}>Кількість на акцію</td>\r\n          <td className={style.calc__point}>Сума продажу</td>\r\n          <td className={style.calc__point}>C/c продажу</td>\r\n          {/* <td className={style.calc__point}>% змінних</td> */}\r\n          <td className={style.calc__point}>Сума змінних</td>\r\n          <td className={style.calc__point}>Маржа</td>\r\n          {/* <td className={style.calc__point}>Авторизация</td> */}\r\n          <td className={style.calc__point}>Скидка</td>\r\n          <td className={style.calc__point}>ОК</td>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {cardPromo.detales.map((el) => (\r\n          <CalculationItem\r\n            key={el.sku}\r\n            el={el}\r\n            discount={discount}\r\n            takePromoData={takePromoData}\r\n            isTakePromoData={isTakePromoData}\r\n            variables={calculation.chainVariables}\r\n          />\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n\r\n    <div className=\"elements-area\">\r\n\r\n    <div>\r\n      <input type=\"text\" className=\"input-text\" placeholder=\"Внесіть коментар до розрахунків\"></input>\r\n    </div>\r\n\r\n\r\n    <div>\r\n        <p>Загальна знижка: {calculation.amounOfDiscount} грн</p>\r\n        <p>Загальна маржа {calculation.amountOfMargin} грн</p>\r\n        <p>Загальна вартість акції {calculation.totalCost } грн</p>\r\n        <p>Результативність акції: {calculation.resultOfPromo} грн</p>\r\n    </div>\r\n\r\n    <div>\r\n      <input type=\"checkbox\"/>\r\n      <input type=\"submit\" value=\"Підтвердити\"/>\r\n      <input type=\"submit\" value=\"Закрити\" onClick={toggleCalc}/>\r\n\r\n    </div>\r\n\r\n    </div>\r\n\r\n    </div>\r\n    </fieldset>\r\n    </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Calculation;\r\n","import React, {useState} from 'react'\r\nimport inWarehouse from \"../../db/warehouse.json\"\r\n\r\nconst Warehouse = ({cardPromo, toggleWarehouse}) => {\r\n\r\n\r\nconst codesInPromo = () => {\r\n return   cardPromo.detales.map((el) => el.barCode)\r\n}\r\n\r\nconst codes = codesInPromo()\r\n\r\n// const showWarehouse = () => {\r\n//     // if (cardPromo.detales)\r\n// //   return  inWarehouse.filter(el =>  el.barCode === )}\r\n\r\n// //   return {for (let prod of inWarehouse)\r\n// }\r\n\r\nconst [codeArea, setCodeArea] = useState([])\r\n\r\n\r\n\r\nfunction showWarehouse () {\r\n    const arr = [] \r\nfor (let prod of codesInPromo()) {\r\n   const qqq = inWarehouse.filter(el =>  el.barCode === prod) \r\n   arr.push(...qqq)\r\n}\r\nreturn arr\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <fieldset>\r\n        <legend> Наявність на складі</legend>\r\n        <div className=\"warehouse-header\">\r\n            <div className=\"warehouse-name-header\">Продукт</div>\r\n            <div className=\"warehouse-numbers\">Строк придатності</div>\r\n            <div className=\"warehouse-numbers\">Відсоток придатності</div>\r\n            <div className=\"warehouse-numbers\">На складі</div>\r\n        </div>\r\n        <ul>\r\n        {showWarehouse().map(el=> <li className=\"warehouse-items\" key={el.index}>\r\n            <p className=\"warehouse-name warehouse-text\">{el.name}</p>\r\n    <p className=\"warehouse-numbers\">{el.BBDate}</p>\r\n            <p className=\"warehouse-numbers\">{el.BBPercent}%</p>\r\n            <p className=\"warehouse-numbers\">{el.quantity}</p>\r\n            </li>) }\r\n\r\n        {/* <button onClick={toggleWarehouse}></button> */}\r\n        <input type=\"submit\" onClick={toggleWarehouse} value=\"Закрити\"/>\r\n\r\n        </ul>\r\n        </fieldset>\r\n    )\r\n}\r\n\r\nexport default Warehouse\r\n","import React from \"react\";\r\n\r\nexport const AboutClient = ({toggleClient}) => {\r\n  return (\r\n    <div>\r\n      {/* <div className=\"overlay-modal\"> */}\r\n        <div className=\"card\">\r\n<fieldset>\r\n    <legend>Коротка характеристика клієнта</legend>\r\n    <div className=\"elements-area-left\">\r\n    <p>Товарообіг за рік:  грн</p>\r\n    <p>Доля продажів у компанії: %</p>\r\n    <p>Всього заплановано акцій на 2020р:   шт</p>\r\n    <p>Розмір обов'язкового бюджету в мережі:   грн</p>\r\n    <p>Проведено акцій:  шт</p>\r\n    <p>Використано бюджету:   шт</p>\r\n    <p>Залишилось провести акцій:  шт</p>\r\n    <p>Залишок бюджету для мережі:  грн</p>\r\n    {/* <p>... посилянна на інші акції мережі</p> */}\r\n    </div>\r\n    <input type=\"submit\" value=\"Закрити\" onClick={toggleClient}/>\r\n</fieldset>\r\n\r\n\r\n\r\n        </div>\r\n      </div>\r\n    // </div>\r\n  );\r\n};\r\n\r\nexport default AboutClient\r\n","import React, { useState, useEffect } from \"react\";\r\nimport style from \"./PromoCard.module.css\";\r\nimport moment from \"moment\";\r\nimport PromoList from \"../PromoCard/PromoList\";\r\nimport CommentsCard from \"./CommentsCard/CommentsCard\";\r\nimport CheckBlock from \"./CheckBlock\";\r\nimport Calculation from \"./Calculation/Calculation\";\r\nimport Warehouse from \"./Warehouse/Warehouse\";\r\nimport AboutClient from \"./AboutClient/AboutClient\";\r\nimport \"./PromoCard.module.css\";\r\nimport axios from \"axios\";\r\n\r\nconst PromoCard = ({ cardPromo, isCartOpen, toggleCart }) => {\r\n  const [calcOpen, setCalcOpen] = useState(false);\r\n  const [commentOpen, setCommnetOpen] = useState(false);\r\n  const [commentAuthor, setComentAuthor] = useState(\"\");\r\n  const [commentText, setComentText] = useState(\"\");\r\n  const [commentsArr, setCommentsArr] = useState([]);\r\n  const [newAreaWithOk, setNewAreaWithOk] = useState({});\r\n  const [warehouseOpen, setWarehouseOpen] = useState(false);\r\n  const [aboutClientOpen, setAboutClientOpen] = useState(false);\r\n\r\n  function toggleCalc() {\r\n    setCalcOpen(!calcOpen);\r\n  }\r\n\r\n  function toggleComment() {\r\n    setCommnetOpen(!commentOpen);\r\n  }\r\n\r\n  function toggleWarehouse() {\r\n    setWarehouseOpen(!warehouseOpen);\r\n  }\r\n\r\n  function toggleClient() {\r\n    setAboutClientOpen(!aboutClientOpen);\r\n  }\r\n\r\n  const promo = cardPromo;\r\n  const card = [style.card];\r\n  const detales = cardPromo.detales;\r\n  const calcBtn = [style.calculation];\r\n\r\n  if (calcOpen) {\r\n    calcBtn.push(style.calculation__on);\r\n  }\r\n\r\n  function listSku() {\r\n    if (isCartOpen) {\r\n      return detales.map((el) => <PromoList el={el} key={el.index} />);\r\n    }\r\n  }\r\n\r\n  function inputAuthor(e) {\r\n    setComentAuthor(e.target.value);\r\n  }\r\n\r\n  function inputCommentText(e) {\r\n    setComentText(e.target.value);\r\n  }\r\n\r\n  const commentSubmit = (e) => {\r\n    e.preventDefault();\r\n    const data = {\r\n      time: Date.now(),\r\n      author: commentAuthor,\r\n      text: commentText,\r\n    };\r\n    setCommentsArr([...commentsArr, data]);\r\n    toggleComment();\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (commentsArr.length > 0) {\r\n      setNewAreaWithOk({ ...newAreaWithOk, comment: commentsArr });\r\n      return;\r\n    }\r\n    if (!cardPromo.comment & (commentsArr.length === 0)) {\r\n      return;\r\n    }\r\n    if (cardPromo.comment) {\r\n      setCommentsArr(cardPromo.comment);\r\n    }\r\n  }, [commentsArr]);\r\n\r\n  const url = `https://project-1-test-92ce7.firebaseio.com/promo/${cardPromo.id}.json`;\r\n  const receiveOk = (ok) => {\r\n    setNewAreaWithOk({ ...newAreaWithOk, signature: ok });\r\n  };\r\n\r\n  const sendToServerNewArea = () => {\r\n    axios\r\n      .put(url, newAreaWithOk)\r\n      .then((res) => console.log(res.data))\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  // const sendCommentsToServer = async() => {\r\n  //     axios.put(url, newAreaWithOk)\r\n  //     .then(res=> console.log(res.data))\r\n  //     .catch(error => console.log(error))\r\n  // }\r\n\r\n  useEffect(() => {\r\n    const a = JSON.stringify(newAreaWithOk);\r\n    const b = JSON.stringify(cardPromo);\r\n    if (Object.keys(newAreaWithOk).length === 0) {\r\n      setNewAreaWithOk(cardPromo);\r\n    } else {\r\n      if (a === b) {\r\n        return;\r\n      } else {\r\n        sendToServerNewArea();\r\n      }\r\n    }\r\n  }, [newAreaWithOk]);\r\n\r\n\r\n  const status =() => {\r\n    if (promo.signature.okHeadMarketing) {return \"Акція погоджена\"};\r\n    if (promo.signature.okHeadSales) {return \"Акція погоджена\"};\r\n    if (promo.signature.okAnalitic) {return \"Продукція є для акції\"};\r\n    if (promo.signature.okSalesConfirm) {return \"Мережа погодила\"};\r\n    if (promo.signature.okSalesAccept) {return \"Узгоджується із мережею\"};\r\n    if (promo.signature.okBrandConfirm) {return \"Погоджено для запуску в мережі\"};\r\n    if (promo.signature.okFinance) {return \"Пораховано\"};\r\n    if (promo.signature.okBrandManager) {return \"Відправлена на прорахунок\"};\r\n    if (!promo.signature.okBrandManager) {return \"Акція створена\"};\r\n  }\r\n\r\n  return (\r\n    <div className=\"overlay-modal\">\r\n      <div className=\"card\">\r\n        <div className=\"banner\">\r\n          <h1>Деталі по акції</h1>\r\n        </div>\r\n\r\n        <fieldset>\r\n          <div className=\"close_icon\" onClick={toggleCart}></div>\r\n          <div className={style.content}>\r\n            <div className={style.left}>\r\n              <div className={style.period}>\r\n                <span>\r\n                  <span className={style.bigInfo}>\r\n                    {Math.ceil((promo.promoStart - Date.now()) / 86400000)}{\" \"}\r\n                  </span>\r\n                  <div>днів до початку</div>\r\n                </span>\r\n\r\n                <span className={style.bigInfoChain}>{promo.chain}</span>\r\n\r\n  <div className={style.status}>{status()}</div>\r\n                {/* <span className={style.tradeMark}>{promo.tradeMark}</span> */}\r\n\r\n              </div>\r\n            </div>\r\n\r\n            <div className={style.right}>\r\n              <div className={style.tocenter}>\r\n                <div>\r\n                  <span>Дата створення акції:</span>\r\n                  {moment(Date.now()).format(\"DD/MM/YYYY\")}\r\n                </div>\r\n              </div>\r\n              <span className={style.info}>Період акції:</span>\r\n\r\n              <span className={style.dates}>\r\n                {moment(promo.promoStart).format(\"ll\")} ---{\" \"}\r\n                {moment(promo.promoEnd).format(\"ll\")}\r\n              </span>\r\n              <div className={style.info}>\r\n                Дата загрузки:{\" \"}\r\n                <span className={style.infoData}>\r\n                  {moment(promo.loadDate).format(\"ll\")}\r\n                </span>\r\n              </div>\r\n              <div className={style.info}>\r\n                Тип активності:{\" \"}\r\n                <span className={style.infoData}>{promo.typeOfActivity}</span>\r\n              </div>\r\n              <div className={style.info}>\r\n                Вартість авторизації:{\" \"}\r\n                <span className={style.infoData}>\r\n                  {promo.authorisation} грн\r\n                </span>\r\n              </div>\r\n              <div className={style.info}>\r\n                Знижка:{\" \"}\r\n                <span className={style.infoData}>{promo.discountPercent}</span>{\" \"}\r\n                %\r\n              </div>\r\n              <div className={style.info}>Продукція </div>\r\n              <div className={style.listSKU}>\r\n              {listSku()}\r\n              </div>\r\n\r\n              <div className={style.info}>\r\n                Затрати на проведення акції:{\" \"}\r\n                <span className={style.infoData}>\r\n                  !!після розрахунків!! грн\r\n                </span>\r\n              </div>\r\n\r\n              {/* className={style.btnCalculation} */}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"elements-area elements-area-flex-wrap\">\r\n            <button onClick={toggleCalc}>Подивитись розрахунки</button>\r\n            <button onClick={toggleComment}>Занести коментар</button>\r\n            <button onClick={toggleWarehouse}>Що робиться на складі</button>\r\n            <button onClick={toggleClient}>Характеристика клієнта</button>\r\n            <button>Внести зміни у акцію</button>\r\n          </div>\r\n\r\n          {commentOpen && (\r\n            <CommentsCard\r\n              inputAuthor={inputAuthor}\r\n              inputCommentText={inputCommentText}\r\n              commentSubmit={commentSubmit}\r\n              toggleComment={toggleComment}\r\n            />\r\n          )}\r\n\r\n          {calcOpen && (\r\n            <Calculation\r\n              cardPromo={cardPromo}\r\n              discount={promo.discountPercent}\r\n              toggleCalc={toggleCalc}\r\n            />\r\n          )}\r\n\r\n          <div>\r\n            <fieldset>\r\n              <legend> Коментарі до акції</legend>\r\n              <ul className=\"comments-area\">\r\n                {commentsArr.map((el) => (\r\n                  <li>\r\n                    {moment(el.time).format(\"ll\")} {el.author} {el.text}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </fieldset>\r\n          </div>\r\n\r\n          {warehouseOpen && (\r\n            <Warehouse\r\n              cardPromo={cardPromo}\r\n              toggleWarehouse={toggleWarehouse}\r\n            />\r\n          )}\r\n          {aboutClientOpen && <AboutClient toggleClient={toggleClient} />}\r\n\r\n          <CheckBlock\r\n            okArea={cardPromo.signature}\r\n            id={cardPromo.id}\r\n            receiveOk={receiveOk}\r\n          />\r\n        </fieldset>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PromoCard;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport productPrice from '../db/priceAndProduct.json'\r\n\r\nconst NewProductfFillForm = ({ addDetales, filledOneProduct }) => {\r\n  const detales = {\r\n    sku: \"\",\r\n    barCode: \"\",\r\n    freshness: \"\",\r\n    statisticSells: 0,\r\n    quantityForCompensation: 0,\r\n    priceOrdinar: 0,\r\n    pricePromo: 0,\r\n  };\r\n\r\n  const [filledForm, setFilledForm] = useState(detales);\r\n  \r\n\r\n  const inputHandlerText = (e) => {\r\n    const { name, value } = e.target;\r\n    // if (e.target.value === filledForm.sku) {alert(\"Цей продукт вже є у списку, виберіть інший\")}\r\n    setFilledForm({ ...filledForm, [name]: value });\r\n  };\r\n\r\n  const inputHandlerNumber = (e) => {\r\n    const name = e.target.name;\r\n    const value = Number(e.target.value);\r\n    if (!value) {\r\n      alert(\"Введіть дробове число через крапку\");\r\n      e.target.value = null\r\n      return;\r\n    }\r\n    setFilledForm({ ...filledForm, [name]: value });\r\n  };\r\n\r\n  const inputSend = (e) => {\r\n      e.preventDefault()\r\n    \r\n      addDetales(filledForm);\r\n      filledOneProduct();\r\n      setFilledForm(detales)\r\n      // resetForm()\r\n    // }\r\n  };\r\n\r\n  useEffect(() => {\r\n    productPrice.map(el => (el.shortName===filledForm.sku && setFilledForm({ ...filledForm, priceOrdinar: el.supermarketPrice, barCode: el.barCode }) ))\r\n    // productPrice.map(el => (el.shortName===filledForm.sku && setFilledForm({ ...filledForm, barCode: el.barCode }) ))\r\n  }, [filledForm.sku])\r\n  \r\n  const resetForm = () => {\r\n\r\n    // console.log(document.querySelector(\"#form-item\"))\r\n    document.getElementById(\"1\").reset()\r\n\r\n  }\r\n\r\n \r\n\r\n\r\n  return (\r\n    \r\n    \r\n    <tr >\r\n      <td>\r\n        <p>\r\n          {/* <input type=\"text\" name=\"sku\" onChange={inputHandlerText} /> */}\r\n          <select type=\"text\" name=\"sku\" onChange={inputHandlerText}>\r\n          <option value=\"\"></option>\r\n          {productPrice.map(el => (<option key={el.shortName} value={el.shortName}>{el.shortName}</option>))}\r\n        </select>\r\n        </p>\r\n      </td>\r\n      {/* <td>\r\n        <p>\r\n          <input type=\"text\" name=\"freshness\" onChange={inputHandlerText}/>\r\n        </p>\r\n      </td> */}\r\n      <td>\r\n        <input\r\n          type=\"text\"\r\n          name=\"statisticSells\"\r\n          onChange={inputHandlerNumber}\r\n          \r\n        />\r\n      </td>\r\n      <td>\r\n        <input\r\n          type=\"text\"\r\n          name=\"quantityForCompensation\"\r\n          onChange={inputHandlerNumber}\r\n          \r\n        />\r\n      </td>\r\n      <td>\r\n        {/* <input type=\"text\" name=\"priceOrdinar\" onChange={inputHandlerNumber} /> */}\r\n        <p id=\"price\">\r\n          {productPrice.map(el => (el.shortName===filledForm.sku && el.supermarketPrice))}\r\n        </p>\r\n      </td>\r\n      <td>\r\n        <input type=\"submit\" onClick={inputSend} value=\"Підтверджую\"/>\r\n      </td>\r\n      \r\n    </tr>\r\n    \r\n  );\r\n};\r\n\r\nexport default NewProductfFillForm;\r\n","import React from 'react';\r\n\r\nconst NewProductFilled = ({el}) => {\r\n\r\n    const {\r\n        sku,\r\n        freshness,\r\n        statisticSells,\r\n        quantityForCompensation,\r\n        priceOrdinar,\r\n        pricePromo,\r\n      } = el\r\n    \r\n    return (\r\n        <tr>\r\n          <td >{sku}</td>\r\n          <td >{statisticSells}</td>\r\n          <td >{quantityForCompensation}</td>\r\n          <td >{priceOrdinar}</td>\r\n          <td ><input type=\"checkbox\" checked disabled/></td>  \r\n        </tr>\r\n    );\r\n};\r\n\r\nexport default NewProductFilled;","import React, { useState } from 'react';\r\nimport NewProductfFillForm from './NewProductfFillForm'\r\nimport NewProductFilled from './NewProductFilled'\r\n\r\n\r\nconst NewProductItemForm = ({addDetales, arrOfProducts}) => {\r\n\r\n    const detales = {        \r\n            sku: \"\",\r\n            barCode: 0,\r\n            freshness: \"\",\r\n            statisticSells: 0,\r\n            quantityForCompensation: 0,\r\n            priceOrdinar: 0,\r\n            pricePromo: 0,   \r\n    }\r\n\r\n    const [newLine, setNewLine] = useState(false)\r\n    const [filledItem, setFilledItem] = useState(false)\r\n\r\n\r\n    const filledOneProduct =() => {\r\n        setFilledItem(true)\r\n    }\r\n\r\n    return (\r\n\r\n    <table >\r\n      <thead>\r\n        <tr>\r\n          <td >Продукт</td>\r\n          <td >Статистичні продажі</td>\r\n          <td >Кількість на акцію</td>\r\n          <td >Ціна звичайна</td>\r\n          <td >Підтвердження</td>  \r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n          {filledItem && arrOfProducts.map(el => <NewProductFilled el={el} key={el.sku}/>)}\r\n          <NewProductfFillForm addDetales={addDetales} filledOneProduct={filledOneProduct}/>\r\n\r\n\r\n      </tbody>\r\n\r\n      </table>\r\n            \r\n\r\n    );\r\n};\r\n\r\nexport default NewProductItemForm;","import React, { useState, useEffect } from \"react\";\r\nimport moment from 'moment';\r\nimport NewProductItemForm from './NewProductItemForm'\r\nimport productArr from '../../db/priceAndProductName.json'\r\nimport clients from \"../db/clients.json\"\r\nimport axios from 'axios'\r\nimport './styles.css'\r\n\r\n// const key = 'AIzaSyAS-NzuC-rEq6N9wVpN1ngHd7S0t3CIYdM';\r\nconst url = `https://project-1-test-92ce7.firebaseio.com/promo.json`\r\n\r\nconst NewProductForm = ({closeCardNewPromo}) => {\r\n  const promoObj = {\r\n    dateOfCreating: Date.now(),\r\n    author: \"\",\r\n    // month: 0,\r\n    promoStart: 0,\r\n    promoEnd: 0,\r\n    loadDate: 0,\r\n    periodOfPromo: 0,\r\n    \r\n    chain: \"\",\r\n    tradeMark: \"\",\r\n    authorisation: 0,\r\n    discountPercent: 0,\r\n    typeOfActivity: \"\", //планова, не планова, розпродаж, просування\r\n    descriptionOfActivity: \"\", \r\n    mainComment: \"\",\r\n    termsOfCompensation: \"\", // в накладной, по итогам продаж\r\n    marketingBudjet: \"\", // накапливаемый бюджет, от производителя, средства СФД\r\n    detales: [\r\n    //   {\r\n    //     // sku: \"\",\r\n    //     // freshness: \"\",\r\n    //     // statisticSells: 0,\r\n    //     // quantityForCompensation: 0,\r\n    //     // priceOrdinar: 0,\r\n    //     // pricePromo: 0,\r\n    //   },\r\n    ],\r\n    comment: [\r\n    //   {\r\n    //     time: 0, //Date.now\r\n    //     author: \"\",\r\n    //     text: \"\",\r\n    //   },\r\n    ],\r\n    signature: {\r\n      okInitiator: false,\r\n      okBrandManager: false,\r\n      okFinance: false,\r\n      okBrandConfirm: false,\r\n      okSalesAccept: false,\r\n      okSalesConfirm: false,\r\n      okAnalitic: false,\r\n      okHeadSales: false,\r\n      okHeadMarketing: false,\r\n    },\r\n    calculation: [\r\n    //   {\r\n    //     time: 0, //Date.now()\r\n    //     authorisationOfSku: 0,\r\n    //     discount: 0,\r\n    //     calculateItems: [\r\n    //       {\r\n    //         sku: \"\",\r\n    //         priceOrdinar: 0,\r\n    //         cost: 0,\r\n    //         chainVariables: 0,\r\n    //         quantityForCompensation: 0,\r\n    //         priceWithDiscount: 0,\r\n    //         profitability: 0,\r\n    //         ammountOfSells: 0,\r\n    //         costOfSells: 0,\r\n    //         costOfVariables: 0,\r\n    //         margin: 0,\r\n    //         amountOfDiscount: 0,\r\n    //       },\r\n    //     ],\r\n    //     totalMargin: 0,\r\n    //     totalDiscount: 0,\r\n    //     totalCost: 0,\r\n    //     resultsOfPromo: 0,\r\n    //   },\r\n    ],\r\n    changesInPromo: [\r\n    //     {\r\n    //     time: 0, //Date.now()\r\n    //     author: \"\",\r\n    //     typeOfChange: \"\",  //перенос, отмена, \r\n    //     comment: \"\"\r\n    // }\r\n]\r\n  };\r\n\r\n  const [filledForm, setFilledForm] =useState(promoObj)\r\n  const [openProduct, setOpenProduct] = useState(false)\r\n  const [detalesArr, setDetalesArr] = useState([])\r\n  const [results, setResults] = useState([])\r\n  const [formReadyToSend, setFormReadyToSend] = useState({})  \r\n\r\n\r\n\r\n  const inputHandlerDate =(e) => {\r\n      const {name, value} = e.target;\r\n      setFilledForm({...filledForm, [name]: Number(moment(value).format('x'))})\r\n  }\r\n  const inputHandlerText =(e) => {\r\n    const {name, value} = e.target;\r\n    setFilledForm({...filledForm, [name]: value})\r\n}\r\n\r\nconst inputHandlerNumber =(e) => {\r\n  const name = e.target.name;\r\n  const value = Number(e.target.value);\r\n    if (!value) {\r\n      alert(\"Введіть дробове число через крапку\");\r\n      e.target.value = null\r\n      return;\r\n    }\r\n    setFilledForm({...filledForm, [name]: Number(value)})\r\n}\r\n\r\nconst addDetales = ( descriptions) => {\r\n  \r\n    setDetalesArr([...detalesArr, descriptions])\r\n}\r\n\r\n// const openTable =(e) => {\r\n//     e.preventDefault()\r\n//     setOpenProduct(true)\r\n// }\r\n  \r\n\r\nconst addDetalesToBigState = (e) => {\r\n    e.preventDefault()\r\n    console.log(detalesArr);\r\n   setFilledForm({...filledForm, detales: detalesArr})\r\n}\r\n\r\n\r\nconst productIsReadyConfirm =  (e) => {\r\n\r\n  addDetalesToBigState(e)\r\n\r\n\r\n}\r\n\r\nuseEffect(() => {\r\n  console.log(filledForm.detales.length);\r\n  if (filledForm.detales.length === 0) {return}\r\n  else {\r\n    setFormReadyToSend(filledForm)\r\n  } \r\n}, [filledForm.detales])\r\n\r\nuseEffect(() => {\r\n  console.log(Object.keys(formReadyToSend).length);\r\n  if (!Object.keys(formReadyToSend).length ) {return}\r\n  else {\r\n\r\n    console.log(formReadyToSend);\r\n      axios.post(url, formReadyToSend)\r\n  .then(resp => console.log(resp.data))\r\n  .catch(error => console.log(error));\r\n  }\r\n\r\n\r\n  closeCardNewPromo()\r\n}, [formReadyToSend])\r\n\r\n\r\n// useEffect(() => {\r\n//   axios.post(url, formReadyToSend)\r\n//   .then(resp => console.log(resp.data))\r\n//   .catch(error => console.log(error));\r\n// }, [filledForm])\r\n\r\n\r\n\r\n// useEffect(() => {\r\n// axios.get(url)\r\n//     .then(resp => { \r\n//       const fetchedResults =[];\r\n//       for ( let key in resp.data ) {\r\n//         console.log(key);\r\n//         fetchedResults.push( \r\n//           {\r\n//           id:key,\r\n//           ...resp.data[key],\r\n//         }\r\n//         )\r\n//       }\r\n//       setResults(fetchedResults)\r\n//     })\r\n//     .catch(error => console.log(error));\r\n// }, [])\r\n\r\n\r\n\r\n\r\n// console.log(results);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"overlay-modal\">\r\n\r\n      <form className=\"form-product\">\r\n        \r\n        <div className=\"banner\">\r\n          <h1>Внесіть дані по новій акції</h1>\r\n        </div>\r\n        <fieldset>\r\n        <legend>Заповніть дані акції</legend>\r\n        <div className=\"date-now\"> <span name=\"dateOfCreating\" value={Date.now()}>{moment(Date.now()).format(\"DD/MM/YYYY\")}</span></div>\r\n  \r\n      <div className=\"left\">Торгова марка:<select type=\"text\" name=\"tradeMark\" onChange={inputHandlerText}>\r\n          <option value=\"\"></option>\r\n          <option value=\"Sante\">Sante</option>\r\n          <option value=\"Sonko\">Sonko</option>\r\n          <option value=\"Develey\">Develey</option>\r\n          <option value=\"Lavka\">Лавка здоров'я</option>\r\n          <option value=\"Rafael Salgado\">Rafael Salgado</option>\r\n          </select>\r\n          </div>\r\n      <div>Торгова мережа:\r\n        <select type=\"text\" name=\"chain\" onChange={inputHandlerText}>\r\n        <option value=\"\"></option>\r\n          {clients.map(el => (<option key={el.shortName} value={el.shortName}>{el.shortName}</option>))}\r\n        </select>\r\n        \r\n        </div>\r\n\r\n\r\n    <div className=\"elements-area\">\r\n      <div className=\"item\">\r\n      Початок акції: <span>*</span>\r\n      <input type=\"date\" name=\"promoStart\" onChange={inputHandlerDate}/>\r\n      {/* <i className=\"fas fa-calendar-alt\"></i> */}\r\n      </div >\r\n\r\n      <div className=\"item\">Закінчення акції: <input type=\"date\" name=\"promoEnd\" onChange={inputHandlerDate} /></div>\r\n      <div className=\"item\">Дата відгрузки: <input type=\"date\" name=\"loadDate\" onChange={inputHandlerDate}/></div>\r\n\r\n    </div>\r\n\r\n      <fieldset>\r\n      <div className=\"radioArea\">\r\n      <div className=\"question left question-block\">\r\n        <label>Вид активності: </label>              \r\n          <div>\r\n           <input type=\"radio\" name=\"typeOfActivity\" id=\"typeOfActivity1\" value=\"Планова\" onChange={inputHandlerText}/>\r\n          <label for=\"typeOfActivity1\" className=\"radio\"><span>Планова</span></label>\r\n          </div>\r\n\r\n          <div>\r\n          <input type=\"radio\" name=\"typeOfActivity\" id=\"typeOfActivity2\" value=\"Додаткова\" onChange={inputHandlerText}/>\r\n          <label for=\"typeOfActivity2\" className=\"radio\"><span>Додаткова</span></label>\r\n          </div>\r\n\r\n          <div>\r\n          <input type=\"radio\" name=\"typeOfActivity\" id=\"typeOfActivity3\" value=\"Розпродаж\" onChange={inputHandlerText}/>\r\n          <label for=\"typeOfActivity3\" className=\"radio\"><span>Розпродаж</span></label>\r\n          </div>\r\n\r\n          <div>\r\n          <input type=\"radio\" name=\"typeOfActivity\" id=\"typeOfActivity4\" value=\"Просування\" onChange={inputHandlerText}/>\r\n          <label for=\"typeOfActivity4\" className=\"radio\"><span>Просування</span></label>\r\n          </div>\r\n\r\n         </div>\r\n         \r\n\r\n         <div  className=\"question left question-block\">\r\n           <label>Вид компенсації знижки:</label>\r\n           <div>\r\n          <input type=\"radio\" name=\"termsOfCompensation\" id =\"termsOfCompensation1\" value=\"В накладній\" onChange={inputHandlerText}/>\r\n          <label for=\"termsOfCompensation1\" className=\"radio\"><span>В накладній</span></label>\r\n          </div>  \r\n\r\n          <div>\r\n          <input type=\"radio\" name=\"termsOfCompensation\" id =\"termsOfCompensation2\" value=\"По результатам продажів\" onChange={inputHandlerText}/>\r\n          <label for=\"termsOfCompensation2\" className=\"radio\"><span>По результатам продажів</span></label>\r\n          </div>      \r\n        </div>\r\n        </div>\r\n        </fieldset>\r\n\r\n        \r\n      <div>Опис акції: <input type=\"text\" name=\"descriptionOfActivity\" onChange={inputHandlerText}/></div>\r\n      <div>Коментарі: <input type=\"text\" name=\"mainComment\" onChange={inputHandlerText}/></div>\r\n\r\n      <fieldset>\r\n          <legend>Маркетинг</legend>\r\n      <div  className=\"question left\">\r\n      <label>Покриття затрат за рахунок:</label> \r\n      <div className=\"line-questions\">\r\n\r\n      <div>\r\n      <input type=\"radio\" name=\"marketingBudjet\" id=\"marketingBudjet1\" value=\"none\" onChange={inputHandlerText} disabled/>\r\n      <label for=\"marketingBudjet1\" className=\"radio\"><span>Накопичений бюджет</span></label>\r\n      </div>\r\n\r\n      <div>\r\n      <input type=\"radio\" name=\"marketingBudjet\" id=\"marketingBudjet2\" value=\"none\" onChange={inputHandlerText} disabled/>\r\n      <label for=\"marketingBudjet2\" className=\"radio\"><span>Постачальник</span></label>\r\n      </div>\r\n\r\n      <div>\r\n      <input type=\"radio\" name=\"marketingBudjet\" id=\"marketingBudjet3\" value=\"none\" onChange={inputHandlerText} disabled/>\r\n      <label for=\"marketingBudjet3\" className=\"radio\"><span>Кошти СФД</span></label>\r\n      </div>\r\n          </div>\r\n          </div>\r\n      <div className=\"elements-area\">\r\n      <div><p>Вартість авторизації:</p> <input type=\"text\" name=\"authorisation\" onChange={inputHandlerNumber}/></div>\r\n      <div>Відсоток знижки: <input type=\"text\" name=\"discountPercent\" onChange={inputHandlerNumber}/></div>\r\n      </div>\r\n      </fieldset>\r\n\r\n      {/* <button onClick={openTable}>Занести продукцію</button> */}\r\n       <NewProductItemForm addDetales={addDetales} arrOfProducts={detalesArr}/>\r\n\r\n       <div className=\"item left\">\r\n        <label>Ініціатор акції:</label>\r\n        <input type=\"text\" name=\"author\" onChange={inputHandlerText}/>\r\n      </div>\r\n\r\n      <div className=\"elements-area\">\r\n      <input type=\"submit\" value=\"Отмєна\" onClick={closeCardNewPromo}/>\r\n      <input type=\"submit\" value=\"Відправити\" onClick={productIsReadyConfirm}/>\r\n      </div>\r\n\r\n\r\n\r\n      </fieldset>\r\n\r\n      </form>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewProductForm;\r\n","import React from \"react\";\r\nimport price from '../db/priceAndProduct.json'\r\n\r\nconst SalesTableItem = ({product}) => {\r\n\r\nconst code = product.barCode\r\n\r\nconst price1 = price.filter(el => el.barCode === code)\r\nconst priceFin =() =>{\r\n    if (price1.length===0) {return}\r\n    else\r\n    {return price1[0].supermarketPrice}\r\n    }\r\n\r\nconst percentOfDiscount = () => {\r\n    if(product.BBPercent>=40) {return 25}\r\n    if(product.BBPercent>=30 & product.BBPercent<=39) {return 35}\r\n    if(product.BBPercent>=20 & product.BBPercent<=29) {return 50}\r\n    if(product.BBPercent>=10 & product.BBPercent<=19) {return 70}\r\n    if(product.BBPercent<=9) {return 90}\r\n}\r\n\r\nconst priceWithDiscount = () => {\r\n    if (!priceFin()) {return}\r\n    return ((priceFin()-(priceFin()*percentOfDiscount()/100)).toFixed(2))\r\n}\r\n\r\n\r\n\r\n\r\n  return (\r\n    <tr >\r\n      <td><input type=\"checkbox\"/></td>\r\n      <td>{product.name}</td>\r\n      <td>{product.BBPercent}</td>\r\n  <td>{product.BBDate}</td>\r\n      <td>{priceFin()}</td>\r\n      <td>{percentOfDiscount()}</td>\r\n      <td>{priceWithDiscount()}</td>\r\n      <td>{product.quantity}</td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default SalesTableItem;\r\n","import React from \"react\";\r\nimport style from \"./salesTable.module.css\"\r\nimport SalesTableItem from './SalesTableItem'\r\nimport warehouse from '../db/warehouse.json'\r\n\r\nconst SalesTable = () => {\r\n\r\n    const filterProduct = () => {\r\n     return   warehouse.filter(item => (Number(item.BBPercent) > 0) & (Number(item.BBPercent) < 56 ))\r\n    }\r\n\r\nconsole.log(filterProduct())\r\n\r\n  return (\r\n    <div>\r\n      <table className={style.tableSales}>\r\n        <thead>\r\n          <tr>\r\n            <th>Вибрати</th>\r\n            <th>Продукт</th>\r\n            <th>% до кінця</th>\r\n            <th>Кінцева дата</th>\r\n            <th>Ціна звична</th>\r\n            <th>% знижки</th>\r\n            <th>Ціна зі знижкою</th>\r\n            <th>Кількість</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n            {filterProduct().map(el => <SalesTableItem product={el} key={el.index}/>)}\r\n\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SalesTable;\r\n","import React from \"react\";\r\nimport SalesTable from './SalesTable'\r\n\r\nconst Sales = ({toggleSales}) => {\r\n  return (\r\n    <div className=\"overlay-modal\">\r\n      <div className=\"card\">\r\n        <div className=\"banner\">\r\n        <div className=\"close_icon\" onClick={toggleSales}></div>\r\n          <h1>Розпродаж строкового товару</h1>\r\n        </div>\r\n        <fieldset>\r\n          <legend>Продукція для розпродажу</legend>\r\n\r\n          <SalesTable/>\r\n\r\n\r\n\r\n        </fieldset>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sales;\r\n","import React, { useState, useEffect, createRef } from \"react\";\r\nimport PromoCard from \"../PromoCard/PromoCard\";\r\nimport style from \"./Product.module.css\";\r\nimport Product from \"./Product\";\r\nimport './Test.css'\r\n\r\nconst TableOfProducts =({cardsArr, addPromo, toggleCart, isCartOpen, sortType, cardPromo, sortFunction, sortData}) =>{\r\n\r\n\r\n\r\n\r\n\r\nreturn (\r\n  <div className=\"testbox\">\r\n    <table >\r\n    <thead   >\r\n      <tr className=\"table sortTable\" id=\"sortTable\" >\r\n        <th className={style.item} data-sort=\"month\" onClick={sortType} >\r\n          Днів до акції\r\n        </th>\r\n        <th className={style.item} data-sort=\"start\" onClick={sortType} >\r\n          Початок акції\r\n        </th>\r\n        <th className={style.item} data-sort=\"end\" onClick={sortType}>\r\n          Кінець акції\r\n        </th>\r\n        <th\r\n          className={style.itemChain}\r\n          data-sort=\"chain\"\r\n          onClick={sortType}\r\n        >\r\n          Мережа\r\n        </th>\r\n        <th className={style.item} data-sort=\"mark\" onClick={sortType}>\r\n          Торгова марка\r\n        </th>\r\n        <th className={style.item} data-sort=\"status\" >\r\n          Статус\r\n        </th>\r\n\r\n        {/* <th className={style.item}>Більше</th> */}\r\n      </tr>\r\n    </thead>\r\n\r\n    <tbody className={style.bodytable}>\r\n      {sortData().map((el) => (\r\n        <Product\r\n          el={el}\r\n          key={el.id}\r\n          addPromo={addPromo}\r\n          toggleCart={toggleCart}\r\n          isCartOpen={isCartOpen}\r\n          \r\n        />\r\n      ))}\r\n      \r\n    {isCartOpen && <PromoCard\r\n    key={cardPromo.id}\r\n    cardPromo={cardPromo}\r\n    isCartOpen={isCartOpen}\r\n    toggleCart={toggleCart}\r\n  />}\r\n    </tbody>\r\n  </table>\r\n  </div>\r\n)\r\n    }\r\nexport default TableOfProducts","import React, { useState, useEffect, createRef } from \"react\";\r\n// import promosData from \"../db/promotions.json\";\r\n// import moment from \"moment\";\r\nimport Product from \"./Product\";\r\nimport NewArrCreate from \"../CreateNewArr/NewArrCreate\";\r\n\r\nimport PromoCard from \"../PromoCard/PromoCard\";\r\nimport style from \"./Product.module.css\";\r\nimport CommentsCard from \"../PromoCard/CommentsCard/CommentsCard\";\r\nimport NewProductForm from \"../NewProductForm/NewProductForm\";\r\nimport Sales from \"../Sales/Sales\"\r\n// import App from \"./TableOfAllProductsReact\"\r\nimport axios from \"axios\";\r\nimport TableOfProducts from './TableOfProducts'\r\n// import image from '../../img/Logo/sfd.png'\r\n\r\nconst ListOfProducts = () => {\r\n\r\n  console.log(NewArrCreate)\r\n\r\n\r\n  const [cardsArr, setCardArr] = useState([]);\r\n  const [isCartOpen, setIsCartOpen] = useState(false);\r\n  const [cardPromo, setCardPromo] = useState({});\r\n  const [sort, setSort] = useState(\"month\");\r\n  const [comments, setComments] = useState([]);\r\n  const [openNewPromo, setOpenNewPromo] = useState(false);\r\n  const [openSales, setOpenSales] =useState(false)\r\n  const [dataBase, setDataBase] = useState(false)\r\n\r\n  const url = `https://project-1-test-92ce7.firebaseio.com/promo.json`;\r\n\r\n  const toggleDataBase =() => {\r\n    setDataBase(!dataBase)\r\n  }\r\n\r\n  const useDataBase =() => {\r\n    // if (dataBase) {\r\n\r\n      setCardArr(NewArrCreate)\r\n\r\n    // }\r\n  }\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(url)\r\n      .then((resp) => {\r\n        const fetchedResults = [];\r\n        for (let key in resp.data) {\r\n\r\n          console.log(key);\r\n          fetchedResults.push({\r\n            id: key,\r\n            ...resp.data[key],\r\n          });\r\n        }\r\n        setCardArr(fetchedResults);\r\n      })\r\n      .catch((error) => console.log(error));\r\n  }, []);\r\n\r\n\r\n\r\n  const commentsItem = {\r\n    author: \"\",\r\n    comment: \"\",\r\n    time: Date.now(),\r\n  };\r\n\r\n  const addComment = (info) => {\r\n    setComments([...comments, info]);\r\n  }; \r\n\r\n  const inputHandler = (e) => {\r\n    const name = e.target.name;\r\n    const value =\r\n      e.target.type === \"checkbox\" ? e.target.checked : e.target.value;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const toggleCart = () => {\r\n    setIsCartOpen(!isCartOpen);\r\n  };\r\n\r\n  const toggleSales= () => {\r\n    setOpenSales(!openSales)\r\n  }\r\n\r\n  const addPromo = (id) => {\r\n    const item = cardsArr.find((el) => el.id === id);\r\n    setCardPromo(item, cardPromo);\r\n  };\r\n\r\n  const sortType = (e) => {\r\n    e.preventDefault();\r\n    const type = e.target.dataset.sort;\r\n    setSort(type);\r\n  };\r\n \r\n\r\n  const sortData = (e) => {\r\n\r\n    switch (sort) {\r\n      case \"month\":\r\n        return cardsArr.sort((a, b) => a.month > b.month ? 1 : -1);\r\n      case \"start\":\r\n        return cardsArr.sort((a, b) => a.promoStart > b.promoStart ? 1 : -1);\r\n      case \"end\":\r\n        console.log(\"Hello\")\r\n        return cardsArr.sort((a, b) => a.promoEnd > b.promoEnd ? 1 : -1);\r\n      case \"chain\":\r\n        console.log(cardsArr)\r\n        console.log(cardsArr.sort((a, b) => a.chain > b.chain ? 1 : -1))\r\n        return cardsArr.sort((a, b) => a.chain > b.chain ? 1 : -1);\r\n      case \"mark\":\r\n        return cardsArr.sort((a, b) => a.tradeMark > b.tradeMark ? 1 : -1);\r\n      case \"status\":\r\n        console.log(cardsArr.sort((a, b) =>  a.author - b.author))\r\n        console.log(test.sort(function(a, b) {return a - b}));\r\n\r\n    }\r\n  };\r\n\r\n\r\n\r\n  const openCardNewPromo = () => {\r\n    setOpenNewPromo(true);\r\n  };\r\n\r\n  const closeCardNewPromo = () => {\r\n    setOpenNewPromo(false);\r\n  };\r\n  \r\n\r\n  return (\r\n    <div>\r\n      <div className=\"banner\">\r\n        <div className=\"logoBlock\">\r\n      <img src={require(\"../../img/Logo/sfd.png\")} className=\"mainLogo\"/>\r\n      </div>\r\n        {/* <img src=\"../../img/Logo/sfd.png\"/> */}\r\n        <h1>Маркетинг</h1>\r\n        <p className=\"first-page_head\">Store Food Distrubution</p>\r\n      </div>\r\n\r\n      <input type=\"checkbox\" onChange={useDataBase}/> \r\n      \r\n      <div className=\"elements-area\">\r\n        \r\n      <button onClick={openCardNewPromo}>Додайте нову акцію</button>\r\n      <button onClick={toggleSales}>Подивитися знижки</button>\r\n      \r\n      </div>\r\n\r\n      {openNewPromo && <NewProductForm closeCardNewPromo={closeCardNewPromo} />}\r\n\r\n      {openSales && <Sales toggleSales={toggleSales}/>} \r\n\r\n      {/* <App/> */}\r\n  \r\n      {/* <CommentsCard /> */}\r\n      <TableOfProducts cardsArr={cardsArr} addPromo={addPromo} toggleCart={toggleCart} isCartOpen={isCartOpen}  sortType={sortType} cardPromo={cardPromo} sortData={sortData}/>\r\n\r\n\r\n      <div className=\"footer banner\">\r\n        {/* <p className=\"first-page_head\">Store Food Distrubution</p> */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ListOfProducts;\r\n","import React from 'react';\n// import logo from './logo.svg';\nimport './App.css';\nimport ListOfProducts from \"./Components/ListOfProducts/ListOfProducts\"\n\nfunction App() {\n  return (\n\n    \n    <div className=\"App\">\n\n      <ListOfProducts/>\n      \n\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}